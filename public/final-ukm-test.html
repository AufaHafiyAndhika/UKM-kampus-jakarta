<!DOCTYPE html>
<html>
<head>
    <title>Final UKM Functionality Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
        .test-section { 
            margin: 20px 0; 
            padding: 20px; 
            border: 2px solid #ddd; 
            border-radius: 10px; 
            background: #f9f9f9; 
        }
        .success { color: #28a745; font-weight: bold; }
        .error { color: #dc3545; font-weight: bold; }
        .image-test { 
            max-width: 300px; 
            max-height: 200px; 
            border: 2px solid #ccc; 
            margin: 10px; 
            object-fit: cover; 
        }
        .achievement-card { 
            border: 1px solid #ddd; 
            border-radius: 8px; 
            padding: 15px; 
            margin: 10px 0; 
            background: white; 
        }
        .badge { 
            display: inline-block; 
            padding: 4px 8px; 
            border-radius: 4px; 
            font-size: 12px; 
            font-weight: bold; 
            margin-right: 5px; 
        }
        .badge-warning { background: #fff3cd; color: #856404; }
        .badge-secondary { background: #e2e3e5; color: #383d41; }
        .position-badge { 
            width: 40px; 
            height: 40px; 
            border-radius: 50%; 
            background: linear-gradient(135deg, #ffd700, #ffb347); 
            display: inline-flex; 
            align-items: center; 
            justify-content: center; 
            color: white; 
            font-weight: bold; 
            float: right; 
        }
    </style>
</head>
<body>
    <h1>üéâ Final UKM Functionality Test</h1>
    
    <div class='test-section'>
        <h2>‚úÖ Background Image Test</h2>
        <p><strong>UKM:</strong> IMMA</p>
        <p><strong>Background URL:</strong> http://localhost:8000/storage/ukms/backgrounds/PkgZcbi7JRiijaQlBA9P1C6pLCmFuH0z68Yxn1rK.jpg</p>
        <img src='http://localhost:8000/storage/ukms/backgrounds/PkgZcbi7JRiijaQlBA9P1C6pLCmFuH0z68Yxn1rK.jpg' alt='IMMA Background' class='image-test' 
             onload="this.nextElementSibling.innerHTML='<span class=success>‚úÖ Background loaded successfully!</span>'"
             onerror="this.nextElementSibling.innerHTML='<span class=error>‚ùå Background failed to load</span>'">
        <p>Loading background...</p>
    </div>
    
    <div class='test-section'>
        <h2>üè¢ Organization Structure Test</h2>
        <p><strong>Structure URL:</strong> http://localhost:8000/storage/ukms/organization_structures/ucB5gpUnEIX1JSrcsg6FeGB63vpdQoVmsZ57MLuQ.jpg</p>
        <img src='http://localhost:8000/storage/ukms/organization_structures/ucB5gpUnEIX1JSrcsg6FeGB63vpdQoVmsZ57MLuQ.jpg' alt='IMMA Structure' class='image-test' 
             onload="this.nextElementSibling.innerHTML='<span class=success>‚úÖ Structure loaded successfully!</span>'"
             onerror="this.nextElementSibling.innerHTML='<span class=error>‚ùå Structure failed to load</span>'">
        <p>Loading structure...</p>
    </div>
    
    <div class='test-section'>
        <h2>üèÜ Achievements Test</h2>
        <p><strong>Total Achievements:</strong> 1</p>
        <div class='achievement-card'>
            <div style='overflow: hidden;'>
                <div class='position-badge'>#1</div>
                <h3>Lomba Tilawah</h3>
                <div style='margin: 10px 0;'>
                    <span class='badge badge-warning'>Regional</span>
                    <span class='badge badge-secondary'>Award</span>
                    <span class='badge badge-warning'>‚≠ê Unggulan</span>
                </div>
                <p><strong>Tanggal:</strong> 21 Jun 2025</p>
                <p><strong>Penyelenggara:</strong> PBNU</p>
                <p><strong>Peserta:</strong> Rahadian Nungki syaputra</p>
                <p><strong>Deskripsi:</strong> Memenangkan lomba Dai Quran</p>
            </div>
        </div>
    </div>
    
    <div class='test-section'>
        <h2>üîó Test Links</h2>
        <ul>
            <li><a href='http://127.0.0.1:8000/ukms/imma' target='_blank'><strong>IMMA UKM Detail Page</strong> - Should show achievements and images</a></li>
            <li><a href='http://127.0.0.1:8000/ukms' target='_blank'><strong>All UKMs Page</strong> - Should show background images</a></li>
            <li><a href='http://127.0.0.1:8000/' target='_blank'><strong>Homepage</strong> - Should show achievements and backgrounds</a></li>
            <li><a href='http://127.0.0.1:8000/admin/ukms' target='_blank'><strong>Admin UKM Management</strong> - Background upload functionality</a></li>
        </ul>
    </div>
    
    <div class='test-section'>
        <h2>üìã Summary</h2>
        <p>‚úÖ <strong>Background Images:</strong> Fixed storage sync, now displaying properly</p>
        <p>‚úÖ <strong>Organization Structure:</strong> Fixed storage sync, now displaying properly</p>
        <p>‚úÖ <strong>Achievements Display:</strong> Fixed controller to pass achievements as separate variable</p>
        <p>‚úÖ <strong>method_exists Error:</strong> Fixed null checks in view template</p>
        <p>üéâ <strong>All functionality working!</strong></p>
    </div>
</body>
</html>