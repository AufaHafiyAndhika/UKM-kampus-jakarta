<!DOCTYPE html>
<html>
<head>
    <title>ðŸ‘¥ Member Count Fix Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; }
        .header { 
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%); 
            color: white; 
            text-align: center; 
            padding: 30px; 
            border-radius: 12px; 
            margin-bottom: 30px; 
        }
        .test-section { 
            background: white; 
            padding: 25px; 
            border-radius: 12px; 
            margin: 20px 0; 
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .stats-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
            gap: 20px; 
            margin: 20px 0; 
        }
        .stat-card { 
            background: #f8f9fa; 
            border: 2px solid #e9ecef; 
            border-radius: 8px; 
            padding: 20px; 
            text-align: center; 
        }
        .stat-card.correct { border-color: #28a745; background: #d4edda; }
        .stat-number { font-size: 2rem; font-weight: bold; margin: 10px 0; }
        .stat-label { color: #6c757d; font-size: 0.9rem; }
        .success { color: #28a745; font-weight: bold; }
        .error { color: #dc3545; font-weight: bold; }
        .test-link { 
            display: inline-block; 
            background: #007bff; 
            color: white; 
            padding: 10px 20px; 
            text-decoration: none; 
            border-radius: 6px; 
            margin: 5px; 
        }
        .test-link:hover { background: #0056b3; color: white; text-decoration: none; }
        .member-list { 
            background: #f8f9fa; 
            border-radius: 8px; 
            padding: 15px; 
            margin: 15px 0; 
        }
    </style>
</head>
<body>
    <div class='container'>
        <div class='header'>
            <h1>ðŸ‘¥ Member Count Fix</h1>
            <p>Fixed member counting logic</p>
        </div>
        
        <div class='test-section'>
            <h2>ðŸ“Š IMMA UKM Statistics</h2>
            <div class='stats-grid'>
                <div class='stat-card correct'>
                    <div class='stat-number'>2</div>
                    <div class='stat-label'>Active Members</div>
                </div>
                <div class='stat-card correct'>
                    <div class='stat-number'>48</div>
                    <div class='stat-label'>Available Slots</div>
                </div>
                <div class='stat-card correct'>
                    <div class='stat-number'>50</div>
                    <div class='stat-label'>Max Capacity</div>
                </div>
                <div class='stat-card correct'>
                    <div class='stat-number'>2/50</div>
                    <div class='stat-label'>Capacity Usage</div>
                </div>
            </div>
        </div>
        
        <div class='test-section'>
            <h2>ðŸ‘¥ Member Status Breakdown</h2>
            <div class='stats-grid'>
                <div class='stat-card'>
                    <div class='stat-number'>2</div>
                    <div class='stat-label'>Active</div>
                </div>
                <div class='stat-card'>
                    <div class='stat-number'>0</div>
                    <div class='stat-label'>Pending</div>
                </div>
                <div class='stat-card'>
                    <div class='stat-number'>1</div>
                    <div class='stat-label'>Inactive</div>
                </div>
                <div class='stat-card'>
                    <div class='stat-number'>0</div>
                    <div class='stat-label'>Rejected</div>
                </div>
                <div class='stat-card'>
                    <div class='stat-number'>0</div>
                    <div class='stat-label'>Alumni</div>
                </div>
            </div>
        </div>
        
        <div class='test-section'>
            <h2>ðŸ“‹ Member List</h2>
            <div class='member-list'>
                <div style='margin: 10px 0; padding: 10px; background: white; border-radius: 4px; border-left: 4px solid #6c757d;'>
                    <strong>Rehan</strong> - <span style='color: #6c757d;'>inactive</span>
                </div>
                <div style='margin: 10px 0; padding: 10px; background: white; border-radius: 4px; border-left: 4px solid #28a745;'>
                    <strong>Aufa</strong> - <span style='color: #28a745;'>active</span>
                </div>
                <div style='margin: 10px 0; padding: 10px; background: white; border-radius: 4px; border-left: 4px solid #28a745;'>
                    <strong>Ryemius</strong> - <span style='color: #28a745;'>active</span>
                </div>
            </div>
        </div>
        
        <div class='test-section'>
            <h2>âœ… Fixes Applied</h2>
            <ul>
                <li><span class='success'>âœ…</span> Fixed view to use activeMembers()->count() instead of current_members field</li>
                <li><span class='success'>âœ…</span> Updated controllers to use updateMemberCount() method</li>
                <li><span class='success'>âœ…</span> Synchronized database current_members field with actual active count</li>
                <li><span class='success'>âœ…</span> Available slots now calculated correctly</li>
                <li><span class='success'>âœ…</span> Hidden unnecessary admin event checkboxes</li>
            </ul>
        </div>
        
        <div class='test-section'>
            <h2>ðŸ”— Test Links</h2>
            <a href='http://127.0.0.1:8000/ketua-ukm/pending-members' class='test-link' target='_blank'>
                ðŸ‘¥ Pending Members
            </a>
            <a href='http://127.0.0.1:8000/ketua-ukm/members' class='test-link' target='_blank'>
                ðŸ“‹ All Members
            </a>
            <a href='http://127.0.0.1:8000/admin/events/create' class='test-link' target='_blank'>
                âž• Create Event
            </a>
        </div>
        
        <div class='test-section'>
            <h2>ðŸŽ¯ Expected Results</h2>
            <ul>
                <li>âœ… Total Anggota Aktif shows: 2</li>
                <li>âœ… Kapasitas shows: 2/50</li>
                <li>âœ… Available slots: 48</li>
                <li>âœ… Only active members counted</li>
                <li>âœ… Removed/inactive members excluded</li>
                <li>âœ… Admin event form hides unnecessary checkboxes</li>
            </ul>
        </div>
    </div>
</body>
</html>